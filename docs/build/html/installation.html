
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Installation as a web server &#8212; bCIRT v2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="bCIRT - Balazs’s Computer Incident Response Tool" href="overview.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="installation-as-a-web-server">
<h1>Installation as a web server<a class="headerlink" href="#installation-as-a-web-server" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ubuntu-18-04-apache2-postgresql-python-3-x">
<h2>Ubuntu 18.04 Apache2, Postgresql, Python 3.x<a class="headerlink" href="#ubuntu-18-04-apache2-postgresql-python-3-x" title="Permalink to this headline">¶</a></h2>
<p>bCIRT runs on almost any standard linux distro, let’s start with Ubuntu 18.04 Bionic server.
Get Ubuntu from <a class="reference external" href="https://ubuntu.com/#download">Ubuntu home</a>.</p>
<p>Always start with updating the operating system to the latest
supported version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>This prepares your OS for the detailed installation.</p>
<div class="section" id="download-the-bcirt-package">
<h3>Download the bCIRT package<a class="headerlink" href="#download-the-bcirt-package" title="Permalink to this headline">¶</a></h3>
<p>First of all, download the latest package using wget for example from github:
<a class="reference external" href="https://github.com/bl305/bCIRT/tree/master/bCIRT_PackageReleases">https://github.com/bl305/bCIRT/tree/master/bCIRT_PackageReleases</a></p>
<p>For the sake of simplicity, I’ll move all related stuff to the /bcirt directory. This can be replaced if you wish to
put the things somewhere else, but it will show you how to do it.
Create the base directory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">releases</span>
<span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">venv</span>
<span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span>
</pre></div>
</div>
<p>Download example for v202:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bl305</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">bCIRT_PackageReleases</span><span class="o">/</span><span class="mi">0112</span><span class="n">_bCIRT_v202_20200310</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>Unzip it with your tool, move it to the destination:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">releases</span>
<span class="n">unzip</span> <span class="mi">0112</span><span class="n">_bCIRT_v202_20200310</span><span class="o">.</span><span class="n">zip</span>
<span class="n">mv</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">bCIRT</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="install-the-virtual-environment-for-python">
<h3>Install the virtual environment for Python<a class="headerlink" href="#install-the-virtual-environment-for-python" title="Permalink to this headline">¶</a></h3>
<p>Go to a directory where you would like to have your virtual environment and create a standard python virtual env, like:
Follow this for more details: <a class="reference external" href="https://packaging.python.org/guides/installing-using-pip-and-virtualenv/">https://packaging.python.org/guides/installing-using-pip-and-virtualenv/</a></p>
<p>For this you will need the virtualenv package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">venv</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>Basically select your home directory and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">venv</span>
<span class="c1">#cd /bcirt/venv</span>
<span class="n">sudo</span> <span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">venv</span><span class="o">/</span><span class="n">bCIRT_venv</span>
</pre></div>
</div>
</div>
<div class="section" id="install-django-and-other-python-packages">
<h3>Install Django and other python packages<a class="headerlink" href="#install-django-and-other-python-packages" title="Permalink to this headline">¶</a></h3>
<p>First you need to install some packages to be able to build the necessary tools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">gcc</span> <span class="n">binutils</span> <span class="n">cpp</span> <span class="n">python3</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>You will need root privilege to compile the necessary tools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">su</span>
</pre></div>
</div>
<p>Go to the virtual environment by activating it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">venv</span><span class="o">/</span><span class="n">bCIRT_venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>This should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">bCIRT_venv</span><span class="p">)</span> <span class="n">root</span><span class="nd">@bcirtu18</span><span class="p">:</span><span class="o">/</span><span class="c1">#</span>
</pre></div>
</div>
<p>Now install the necessary packages.
Depending on you approach, you might want to install all requirements from the requirements.txt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Other option is to manually install packages one-by-one, installing the key ones will pull the dependencies.
The below one is for Ubuntu, but you can simply use the requirements file and remove the version restrictions,
it should work most of the time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">beautifulsoup4</span> <span class="n">bootstrap4</span> <span class="n">cryptography</span> <span class="n">Django</span> <span class="n">django</span><span class="o">-</span><span class="n">bootstrap4</span> <span class="n">django</span><span class="o">-</span><span class="n">debug</span><span class="o">-</span><span class="n">toolbar</span> \
<span class="n">django</span><span class="o">-</span><span class="n">import</span><span class="o">-</span><span class="n">export</span> <span class="n">django</span><span class="o">-</span><span class="n">misaka</span> <span class="n">django</span><span class="o">-</span><span class="n">session</span><span class="o">-</span><span class="n">security</span> <span class="n">django</span><span class="o">-</span><span class="n">tinymce4</span><span class="o">-</span><span class="n">lite</span> <span class="n">misaka</span> <span class="n">pydot</span> <span class="n">pygal</span> \
<span class="n">python</span><span class="o">-</span><span class="n">magic</span> <span class="n">pytz</span> <span class="n">PyYAML</span> <span class="n">tablib</span> <span class="n">wheel</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-default-values">
<h3>Customizing default values<a class="headerlink" href="#customizing-default-values" title="Permalink to this headline">¶</a></h3>
<p>First determine your hostname and IP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hostname</span>
<span class="n">ifconfig</span>
</pre></div>
</div>
<p><strong>Considering my local server IP is: 192.168.101.237</strong></p>
<p>Go to the bCIRT/custom_params.py and modify it. Settings in this file will overwrite the settings.py values if set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nano</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span><span class="n">custom_variables</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Modify contents, make sure you generate your own keys and adjust IP address and path etc…:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BCIRT_ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;192.168.101.237&#39;</span><span class="p">]</span>
<span class="n">BCIRT_PATH</span> <span class="o">=</span> <span class="s1">&#39;/bcirt/var/www/bCIRT&#39;</span>
<span class="c1"># Recommend SecurityNow! grc.com :)</span>
<span class="n">ENCRYPTION_KEY_1</span> <span class="o">=</span> <span class="s2">&quot;qDqiih0JQgtr6ahdKR0yieQf59MtweBYJ7GbDIA9cWgWBh53cT8j0Zvr1hFsgup&quot;</span>
<span class="c1"># Should be a 16byte random string in base64 encoded format</span>
<span class="c1"># use this site:</span>
<span class="c1"># https://nitratine.net/blog/post/encryption-and-decryption-in-python/</span>
<span class="n">SALT_1</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;Pr1YFcgFTIQMZERvJf0ySpUEiAniiiRS6NEOkcVbHLQ=&#39;</span>
<span class="n">PROJECTNAME</span> <span class="o">=</span> <span class="s1">&#39;bCIRT&#39;</span>
<span class="n">PROJECT_TITLE</span> <span class="o">=</span> <span class="s1">&#39;bCIRT&#39;</span>
<span class="n">LOGLEVEL</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># off</span>
<span class="c1"># LOGLEVEL = 1 #minimum</span>
<span class="c1"># LOGLEVEL = 2 #standard</span>
<span class="c1"># LOGLEVEL = 3 #verbose</span>
<span class="n">LOGSEPARATOR</span> <span class="o">=</span> <span class="s2">&quot;;&quot;</span>
</pre></div>
</div>
<p>Go to the bCIRT/settings.py and edit it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nano</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Change the followings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BASE_URL</span> <span class="o">=</span> <span class="s2">&quot;http://192.168.101.237:8000&quot;</span>
<span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.101.237&#39;</span><span class="p">]</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="section" id="init-the-database">
<h3>Init the database<a class="headerlink" href="#init-the-database" title="Permalink to this headline">¶</a></h3>
<p>To init the database with default values, run this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">cd</span> <span class="o">/</span><span class="n">bcirt</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">/</span>
<span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">makemigrations</span>
<span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>
<span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">createsuperuser</span>
<span class="c1">#answer the questions</span>
<span class="c1">#Username: admin</span>
<span class="c1">#Email address: admin@mydomain.com</span>
<span class="c1">#Password:</span>
<span class="c1">#Password (again):</span>
<span class="c1">#Superuser created successfully.</span>
</pre></div>
</div>
<p>At this point you should be seeing a new SQLITE database file called ‘db.sqlite3’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span>
</pre></div>
</div>
<p>Let’s initiate the database with the default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#initiate the database  with the built-in values for severities etc RECOMMENDED!</span>
<span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">initdb</span> <span class="o">--</span><span class="nb">all</span>
<span class="c1"># Unique tables can be added by application name, using the</span>
<span class="c1">#python3 manage.py initdb -i &lt;appname&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="start-django-debug-development-environment">
<h3>Start Django debug/development environment<a class="headerlink" href="#start-django-debug-development-environment" title="Permalink to this headline">¶</a></h3>
<p>To test if the system is working correctly, simply run in the virtual env:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span>
</pre></div>
</div>
<p>You should see something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">bCIRT_venv</span><span class="p">)</span> <span class="n">bali</span><span class="nd">@master</span><span class="p">:</span><span class="o">~/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">bCIRT</span><span class="o">&gt;</span> <span class="n">python3</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span>
<span class="n">Watching</span> <span class="k">for</span> <span class="n">file</span> <span class="n">changes</span> <span class="k">with</span> <span class="n">StatReloader</span>
<span class="p">[</span><span class="mi">2020</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">10</span> <span class="mi">21</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">19</span><span class="p">,</span><span class="mi">742</span><span class="p">]</span> <span class="n">autoreload</span><span class="p">:</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Watching</span> <span class="k">for</span> <span class="n">file</span> <span class="n">changes</span> <span class="k">with</span> <span class="n">StatReloader</span>
<span class="n">Performing</span> <span class="n">system</span> <span class="n">checks</span><span class="o">...</span>

<span class="n">System</span> <span class="n">check</span> <span class="n">identified</span> <span class="n">no</span> <span class="n">issues</span> <span class="p">(</span><span class="mi">0</span> <span class="n">silenced</span><span class="p">)</span><span class="o">.</span>
<span class="n">March</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2020</span> <span class="o">-</span> <span class="mi">21</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">20</span>
<span class="n">Django</span> <span class="n">version</span> <span class="mf">3.0</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="n">using</span> <span class="n">settings</span> <span class="s1">&#39;bCIRT.settings&#39;</span>
<span class="n">Starting</span> <span class="n">development</span> <span class="n">server</span> <span class="n">at</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span>
<span class="n">Quit</span> <span class="n">the</span> <span class="n">server</span> <span class="k">with</span> <span class="n">CONTROL</span><span class="o">-</span><span class="n">C</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="centos-8-apache2-postgresql-python-3-x">
<h2>CentOS 8 Apache2, Postgresql, Python 3.x<a class="headerlink" href="#centos-8-apache2-postgresql-python-3-x" title="Permalink to this headline">¶</a></h2>
<p>bCIRT runs on the CentOS distribution.
Get CentOS from <a class="reference external" href="https://www.centos.org/">CentOS home</a>.
Always start with updating the operating system to the latest
supported version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dnf</span> <span class="n">update</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>This prepares your OS for the detailed installation.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">bCIRT</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">bCIRT - Balazs’s Computer Incident Response Tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation as a web server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-18-04-apache2-postgresql-python-3-x">Ubuntu 18.04 Apache2, Postgresql, Python 3.x</a></li>
<li class="toctree-l2"><a class="reference internal" href="#centos-8-apache2-postgresql-python-3-x">CentOS 8 Apache2, Postgresql, Python 3.x</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="overview.html" title="previous chapter">bCIRT - Balazs’s Computer Incident Response Tool</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Balazs Lendvay.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/installation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>